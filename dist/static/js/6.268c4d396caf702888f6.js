webpackJsonp([6],{"4eDY":function(t,e,i){"use strict";(function(t){var a=i("Oj91"),n=i("K0Oa");e.a={data:()=>({classcodeShow:!1,table:null,genetextarea:"",referenceTranscriptIdtextarea:"",classCodetextarea:"",exonNumStart:null,exonNumEnd:null,transcriptLengthStart:null,transcriptLengthEnd:null,peptideLengthStart:null,peptideLengthEnd:null,codingProbabilityStart:null,codingProbabilityEnd:null,coding:!1,noncoding:!1}),components:{leftMenu:a.a,imgMenuShowComp:n.a},mounted(){this.initTable()},methods:{search(){this.initTable(),setTimeout(()=>{this.table.ajax.reload()},0)},getPage(){t("#patients").dataTable();this.table.ajax.reload()},numFormat(t){for(var e=(t=t.toString().split("."))[0].split("").reverse(),i=[],a=0,n=e.length;a<n;a++)a%3==0&&0!==a&&i.push(","),i.push(e[a]);return i.reverse(),i=t[1]?i.join("").concat("."+t[1]):i.join("")},initTable(){this.genetextarea=this.genetextarea.replace(/\s/g,"");let e=this.exonNumStart?this.exonNumStart:0,i=this.exonNumEnd?this.exonNumEnd:2147483647,a=this.transcriptLengthStart?this.transcriptLengthStart:0,n=this.transcriptLengthEnd?this.transcriptLengthEnd:2147483647,l=this.codingProbabilityStart?this.codingProbabilityStart:0,r=this.codingProbabilityEnd?this.codingProbabilityEnd:1,s=this.peptideLengthStart?this.peptideLengthStart:0,c=this.peptideLengthEnd?this.peptideLengthEnd:2147483647,o=[];!0===this.coding&&o.push("coding"),!0===this.noncoding&&o.push("noncoding"),0===o.length?o=null:o.join(",");let d=this;t(document).ready(function(){var p=t("#patients").DataTable({pageLength:25,bPaginate:!0,bStateSave:!0,bScrollCollapse:!0,bLengthChange:!0,bFilter:!1,bSort:!1,bInfo:!0,bAutoWidth:!0,bJQueryUI:!1,bDestroy:!0,bProcessing:!0,bServerSide:!0,sAjaxDataProp:"aData",sAjaxSource:"/server/new_transcripts?p="+d.$store.state.projectId+"&username="+d.$store.state.username+"&gene="+d.genetextarea+"&referenceTranscriptId="+d.referenceTranscriptIdtextarea+"&classCode="+d.classCodetextarea+"&exonNumStart="+e+"&exonNumEnd="+i+"&transcriptLengthStart="+a+"&transcriptLengthEnd="+n+"&peptideLengthStart="+s+"&peptideLengthEnd="+c+"&codingProbabilityStart="+l+"&codingProbabilityEnd="+r+"&label="+o,aoColumns:[{class:"details-control",orderable:!1,mDataProp:1,defaultContent:""},{mDataProp:"gene"},{mDataProp:"transcriptId"},{mDataProp:"referenceTranscriptId"},{mDataProp:"exonNum"},{mDataProp:"classCode"},{mDataProp:"cpc2Entry",mRender:function(t,e,i){return d.numFormat(t.transcriptLength)}},{mDataProp:"cpc2Entry",mRender:function(t,e,i){return d.numFormat(t.peptideLength)}},{mDataProp:"cpc2Entry",mRender:function(t,e,i){return Number(t.codingProbability).toFixed(3)}},{mDataProp:"cpc2Entry",mRender:function(t,e,i){return t.label}}]});var v=[];t("#patients tbody").off("click","tr td.details-control"),t("#patients tbody").on("click","tr td.details-control",function(){var e,i=t(this).closest("tr"),a=p.row(i),n=t.inArray(i.attr("id"),v);a.child.isShown()?(i.removeClass("details"),a.child.hide(),v.splice(n,1)):(i.addClass("details"),a.child((e=a.data(),"<div class='detailDiv'>classCode: "+e.classCode+"</div><div class='detailDiv'>exonNum: "+e.exonNum+"</div><div class='detailDiv'>gene: "+e.gene+"</div><div class='detailDiv'>referenceTranscriptId: "+e.referenceTranscriptId+"</div><div class='detailDiv'>transcriptId: "+e.transcriptId+"</div><div class='detailDiv'>codingProbability: "+e.cpc2Entry.codingProbability+"</div><div class='detailDiv'>fickettScore: "+e.cpc2Entry.fickettScore+"</div><div class='detailDiv'>coding: "+e.cpc2Entry.label+"</div><div class='detailDiv'>pI: "+e.cpc2Entry.pI+"</div><div class='detailDiv'>peptideLength: "+e.cpc2Entry.peptideLength+"</div><div class='detailDiv'>transcriptLength: "+e.cpc2Entry.transcriptLength+"</div><div class='detailDiv font-overflow'>sequence: "+e.sequence+"</div>")).show(),-1===n&&v.push(i.attr("id")))}),p.on("draw",function(){t.each(v,function(e,i){t("#"+i+" td.details-control").trigger("click")})}),d.table=p})},clear(){this.genetextarea="",this.referenceTranscriptIdtextarea="",this.classCodetextarea="",this.exonNumStart=null,this.exonNumEnd=null,this.transcriptLengthStart=null,this.transcriptLengthEnd=null,this.peptideLengthStart=null,this.peptideLengthEnd=null,this.codingProbabilityStart=null,this.codingProbabilityEnd=null,this.coding=!1,this.noncoding=!1}}}}).call(e,i("7t+N"))},DV3x:function(t,e){},LavD:function(t,e,i){t.exports=i.p+"static/img/classcode.f3c8f1c.gif"},aMn5:function(t,e){},"zeg+":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("4eDY"),n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticStyle:{height:"calc(100% - 62px)","margin-top":"2px"}},[a("el-aside",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.menuShow,expression:"$store.state.menuShow"}],staticStyle:{width:"300px",height:"100%","border-right":"1px solid #e6e6e6"},attrs:{width:"350px;"}},[a("leftMenu",{staticStyle:{"margin-top":"5px"}})],1),t._v(" "),a("el-main",[a("div",{},[a("imgMenuShowComp"),t._v(" "),a("el-breadcrumb",{staticStyle:{margin:"5px 0 50px 0"},attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"report"}}},[t._v("项目 "+t._s(t.$store.state.projectName))]),t._v(" "),a("el-breadcrumb-item",[t._v("新转录本概况")])],1),t._v(" "),a("h2",[t._v("新转录本概况")]),t._v(" "),a("el-button",{staticClass:"margin-bottom-btn",attrs:{type:"primary"},on:{click:function(e){t.classcodeShow=!0}}},[a("i",{staticClass:"el-icon-question"}),t._v("查看classcode说明")]),t._v(" "),a("el-card",{staticStyle:{width:"1400px","min-width":"1400px"},attrs:{shadow:"hover"}},[a("div",{staticStyle:{display:"inline-block","vertical-align":"top"}},[a("div",{},[a("div",{staticClass:"labelStyle"},[a("label",{staticClass:"label-font",attrs:{for:"maxpval"}},[t._v("gene")])]),t._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{type:"textarea",rows:3,placeholder:"请输入内容,以英文逗号分隔"},model:{value:t.genetextarea,callback:function(e){t.genetextarea=e},expression:"genetextarea"}})],1),t._v(" "),a("br"),t._v(" "),a("div",{},[a("div",{staticClass:"labelStyle"},[a("label",{staticClass:"label-font",attrs:{for:"maxfdr"}},[t._v("reference TranscriptId")])]),t._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{type:"textarea",rows:2,placeholder:"请输入内容,以英文逗号分隔"},model:{value:t.referenceTranscriptIdtextarea,callback:function(e){t.referenceTranscriptIdtextarea=e},expression:"referenceTranscriptIdtextarea"}})],1)]),t._v(" "),a("div",{staticStyle:{display:"inline-block","vertical-align":"top"}},[a("div",{},[a("div",{staticClass:"labelStyle"},[a("label",{staticClass:"radio-inline control-label"},[t._v("class code")])]),t._v(" "),a("el-input",{staticStyle:{width:"220px"},attrs:{type:"textarea",rows:2,placeholder:"请输入内容,以英文逗号分隔"},model:{value:t.classCodetextarea,callback:function(e){t.classCodetextarea=e},expression:"classCodetextarea"}})],1),t._v(" "),a("br"),t._v(" "),a("div",{},[a("div",{staticClass:"labelStyle"},[a("label",{staticClass:"radio-inline control-label"},[t._v("exonNum from")])]),t._v(" "),a("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:t.exonNumStart,callback:function(e){t.exonNumStart=e},expression:"exonNumStart"}}),t._v("\n          to  "),a("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:t.exonNumEnd,callback:function(e){t.exonNumEnd=e},expression:"exonNumEnd"}})],1),t._v(" "),a("br"),t._v(" "),a("div",{},[a("div",{staticClass:"labelStyle"},[a("label",{staticClass:"radio-inline control-label"},[t._v("transcript length from")])]),t._v(" "),a("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:t.transcriptLengthStart,callback:function(e){t.transcriptLengthStart=e},expression:"transcriptLengthStart"}}),t._v("\n         to "),a("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:t.transcriptLengthEnd,callback:function(e){t.transcriptLengthEnd=e},expression:"transcriptLengthEnd"}})],1)]),t._v(" "),a("div",{staticStyle:{display:"inline-block","vertical-align":"top"}},[a("div",{},[a("div",{staticClass:"labelStyle"},[a("label",{staticClass:"radio-inline control-label"},[t._v("coding probability from")])]),t._v(" "),a("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:t.codingProbabilityStart,callback:function(e){t.codingProbabilityStart=e},expression:"codingProbabilityStart"}}),t._v("\n         to "),a("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:t.codingProbabilityEnd,callback:function(e){t.codingProbabilityEnd=e},expression:"codingProbabilityEnd"}})],1),t._v(" "),a("br"),t._v(" "),a("div",{},[a("div",{staticClass:"labelStyle"},[a("label",{staticClass:"radio-inline control-label"},[t._v("peptide length from")])]),t._v(" "),a("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:t.peptideLengthStart,callback:function(e){t.peptideLengthStart=e},expression:"peptideLengthStart"}}),t._v("\n         to "),a("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:t.peptideLengthEnd,callback:function(e){t.peptideLengthEnd=e},expression:"peptideLengthEnd"}})],1),t._v(" "),a("br"),t._v(" "),a("div",{},[a("div",{staticClass:"labelStyle"},[a("label",{staticClass:"radio-inline control-label"},[t._v("coding")])]),t._v(" "),a("el-checkbox",{model:{value:t.coding,callback:function(e){t.coding=e},expression:"coding"}},[t._v("coding")]),t._v(" "),a("el-checkbox",{model:{value:t.noncoding,callback:function(e){t.noncoding=e},expression:"noncoding"}},[t._v("noncoding")])],1),t._v(" "),a("br"),t._v(" "),a("div",{},[a("div",{staticClass:"labelStyle"}),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.search()}}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"info"},on:{click:function(e){t.clear()}}},[t._v("清空")])],1)])]),t._v(" "),a("br"),t._v(" "),a("div",{},[a("table",{staticClass:"display table table-striped table-bordered",attrs:{id:"patients",cellspacing:"0",width:"100%"}},[a("thead",[a("tr",[a("th"),t._v(" "),a("th",[t._v("gene")]),t._v(" "),a("th",[t._v("transcriptId")]),t._v(" "),a("th",[t._v("referenceTranscriptId")]),t._v(" "),a("th",[t._v("exonNum")]),t._v(" "),a("th",[t._v("classCode")]),t._v(" "),a("th",[t._v("transcriptLength")]),t._v(" "),a("th",[t._v("peptideLength")]),t._v(" "),a("th",[t._v("codingProbability")]),t._v(" "),a("th",[t._v("coding")])])])])]),t._v(" "),a("el-dialog",{attrs:{title:"说明",visible:t.classcodeShow,width:"40%",center:""},on:{"update:visible":function(e){t.classcodeShow=e}}},[a("img",{staticClass:"imgStyle",attrs:{src:i("LavD"),alt:""}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.classcodeShow=!1}}},[t._v("关闭")])],1)])],1)])],1)},staticRenderFns:[]};var l=function(t){i("aMn5"),i("DV3x")},r=i("VU/8")(a.a,n,!1,l,"data-v-d94383c6",null);e.default=r.exports}});
//# sourceMappingURL=6.268c4d396caf702888f6.js.map