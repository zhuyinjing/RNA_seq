webpackJsonp([2],{Ls53:function(t,e){},Q5yB:function(t,e,a){"use strict";var r=a("wFzh"),n={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{},[e("div",{staticStyle:{display:"flex"},attrs:{id:"d3container"}},[e("div",{staticStyle:{float:"left",width:"900px"}},[e("div",{attrs:{id:"microarrays_dendrogram"}})]),this._v(" "),e("div",{staticClass:"margin-top-200",staticStyle:{float:"left",width:"800px"},attrs:{class:"margin-top-200"}},[e("div",{attrs:{id:"boxplot"}})])]),this._v(" "),e("div",{staticStyle:{clear:"both"}})])}]};var o=function(t){a("Ls53"),a("nX4s")},s=a("VU/8")(r.a,n,!1,o,"data-v-f51d8154",null);e.a=s.exports},ZUBa:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("GooH"),n=a("Ck+T"),o=a("Q5yB"),s=(a("nER5"),{data:()=>({textarea:null}),components:{appLeftMenu:r.a,appImgMenuShowComp:n.a,heatmapComp:o.a},created(){this.$store.state.heatmapJson.invalidGeneList&&(this.textarea=this.$store.state.heatmapJson.invalidGeneList.join("\n"))},mounted(){},methods:{}}),i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticStyle:{height:"calc(100% - 62px)","margin-top":"2px"}},[a("el-aside",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.appmenuShow,expression:"$store.state.appmenuShow"}],staticStyle:{width:"300px",height:"100%","border-right":"1px solid #e6e6e6"}},[a("appLeftMenu")],1),t._v(" "),a("el-main",[a("appImgMenuShowComp"),t._v(" "),a("div",[a("h2",[t._v("基因差异表达热图")]),t._v(" "),a("p",[t._v("差异表达基因热图，可以通过颜色深浅来直观显示不同实验条件下基因表达的差异，并且可以较直观的显示出不同实验条件下调基因调控模式（表达谱）的差异。默认的配色方案为绿色代表较低的表达水平，红色代表较高的表达水平，黑色代表中间表达水平。用户可以点击左上角的色条更改配色方案。HeatMap 左侧的树状结构表示基因聚类的结果，表达趋势越接近的基因，在树状结构图中的位置也更接近。HeatMap 上方的树状结构图表示样本聚类的结果，基因表达模式更接近的样本，在数据结构图中的位置更接近。HeatMap 的输入数据为样本间差异表达基因列表中前 100 个基因的 TPM 值，基因距离和样本距离的计算采用欧式距离，基因和样本间的 linkage 计算方法为 ward，使用工具为 Inchlib，参考文献:")]),t._v(" "),a("p",[t._v("Škuta, C., Bartůněk, P., Svozil, D. InCHlib – interactive cluster heatmap for web applications. Journal of Cheminformatics 2014, 6 (44), DOI: 10.1186/s13321-014-0044-4 ["),a("a",{attrs:{href:"http://www.jcheminf.com/content/6/1/44",target:"_blank"}},[t._v("全文链接")]),t._v("]]")]),t._v(" "),a("heatmapComp"),t._v(" "),t.textarea?a("div",{},[a("p",[t._v("WARN：下列基因在所选择的项目及样本中无表达信息，这可能是由于这些基因在所选择的样本中表达水平过低导致的")]),t._v(" "),a("el-input",{attrs:{type:"textarea",rows:3,placeholder:""},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}})],1):t._e()],1)],1)],1)},staticRenderFns:[]};var d=a("VU/8")(s,i,!1,function(t){a("sNxb")},"data-v-d8ddf0f4",null);e.default=d.exports},nX4s:function(t,e){},sNxb:function(t,e){},wFzh:function(t,e,a){"use strict";(function(t){var r=a("f4AQ"),n=(a.n(r),a("nER5")),o=a.n(n);e.a={data:()=>({height:5}),components:{},watch:{$route:"routerChange"},created(){this.$store.state.heatmapJson.heatmap_json_string=JSON.parse(this.$store.state.heatmapJson.heatmap_json_string)},mounted(){this.initchart()},methods:{routerChange(){this.$store.state.heatmapJson.heatmap_json_string=JSON.parse(this.$store.state.heatmapJson.heatmap_json_string),this.initchart()},initchart(){let e=this.$store.state.heatmapJson.stages,a=(this.$store.state.heatmapJson.genes,this.$store.state.heatmapJson.heatmap_json_string);window.boxplot=new o.a.Chart({chart:{renderTo:"boxplot",type:"boxplot",height:400,width:e.length>10?30*e.length:400},credits:{enabled:!1},title:{text:"当前基因表达量"},legend:{enabled:!1},exporting:{enabled:!1},xAxis:{categories:e,title:{text:"Sample Types"}},yAxis:{title:{text:"TPMs"}},plotOptions:{boxplot:{color:"#000000",fillColor:"#F0F0E0",lineWidth:2,medianColor:"#0C5DA5",medianWidth:3,stemColor:"#A63400",stemDashStyle:"dot",stemWidth:1,whiskerColor:"#3D9200",whiskerLength:"20%",whiskerWidth:3}},series:[{name:"TPMs",data:[]}]});var r=t("#microarrays_dendrogram"),n=r.offset(),s=n.top+100,i=(n.left,t("#microarrays"));window.dendrogram=new InCHlib({target:"microarrays_dendrogram",metadata:!0,column_metadata:!0,min_row_height:5,max_column_width:50,max_height:5,heatmap_colors:"GrBkRd",metadata_colors:"RdLrBu",column_dendrogram:!0,max_percentile:90,min_percentile:10,independent_columns:!1,heatmap_part_width:.7,width:900});var d=null,h=[],l=[];function m(t,a,n){l=a;var o=dendrogram.header;if(0===l.length)for(p=0;p<o.length;p++)l.push(p);i.hide();for(var d={},h=0;h<e.length;++h)d[e[h]]=[];var m,p,g,_,u,v=s+r.height()-dendrogram.footer_height,f=dendrogram.column_metadata.features[0];for(n=(n=n+400>v?v-400:n-100)<s?s:n,i.css({top:n}),m=0;m<t.length;m++)for(_=dendrogram.objects2leaves[t[m]],g=dendrogram.data.nodes[_].features,boxplot.setTitle({text:dendrogram.data.nodes[_].objects[0]}),p=0;p<l.length;p++)d[f[u=l[p]]].push(g[u]);for(t.length>1&&boxplot.setTitle({text:"多个基因"});boxplot.series.length>0;)boxplot.series[0].remove(!0);for(var x=[],w=0;w<e.length;++w)d[e[w]]&&d[e[w]].length?x.push(c(d[e[w]])):x.push([0,0,0,0,0]);boxplot.addSeries({data:x,name:"Average Signal"},!0),i.show()}function c(t){var e,a,r,n,o;t.sort(function(t,e){return t-e});var s=t.length;e=t[0],a=t[s-1];var i=dendrogram._hack_round(s/2),d=dendrogram._hack_round(s/4);return r=t[i],n=t[i-d],o=t[i+d],t.length<4&&(o=a),[e,n,r,o,a]}dendrogram.add_color_scale("GrBkRd",{start:{r:35,g:139,b:69},middle:{r:0,g:0,b:0},end:{r:215,g:25,b:28}}),dendrogram.events.row_onclick=function(t,e){d=t[0],m(h=t,l,e.pageY),dendrogram.highlight_rows(h),dendrogram.unhighlight_cluster()},dendrogram.events.dendrogram_node_onclick=function(t,e,a){var r;for(m(h=t,l,a.pageY),r=0;r<t.length;r++)if(t[r]==d)return;dendrogram.highlight_rows([])},dendrogram.events.column_dendrogram_node_highlight=function(t,e){m(h,t,0)},dendrogram.events.column_dendrogram_node_unhighlight=function(){m(h,l=[],0)},dendrogram.events.on_zoom=function(t){i.css({top:s})},dendrogram.events.empty_space_onclick=function(){dendrogram.highlight_rows([])},dendrogram.read_data(a),dendrogram.draw(),m(h,l,s),dendrogram.highlight_rows(h)}}}}).call(e,a("7t+N"))}});
//# sourceMappingURL=2.eb7750ed0d16de618684.js.map