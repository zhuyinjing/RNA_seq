webpackJsonp([24],{hlZc:function(e,t){},iibm:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Oj91"),r=a("K0Oa"),l=a("f4AQ"),n={data:()=>({events:[],samples:[],eventsArr:[],samplesArr:[],data:{}}),components:{leftMenu:s.a,imgMenuShowComp:r.a},mounted(){this.getValue()},methods:{getValue(){this.axios.get("/server/as_profile_info?username="+this.$store.state.username+"&p="+this.$store.state.projectId).then(e=>{if("success"===e.data.message_type){this.eventsArr=e.data.ASProfileInfo.asName,this.samplesArr=e.data.ASProfileInfo.sampleName,this.data=e.data.ASProfileInfo.asEventMap,this.events=e.data.ASProfileInfo.asName;for(let e=0;e<this.samplesArr.length;e++)this.samples.push(e);this.initD3()}else this.$message.error("请求错误!")})},initD3(){if(0===this.events.length||0===this.samples.length)return void this.$message.error("请选择可变剪切事件和样本，不能为空！");l.selectAll("svg")&&l.selectAll("svg").remove();let e=100,t=30,a=30,s=80;for(let o=0;o<this.events.length;o++){let p=l.select("#canvas").append("svg").attr("id","svg").attr("width",800).attr("height",400),c=this.data[this.events[o]].filter((e,t)=>{if(this.samples.includes(t))return e}),d=this.samplesArr.filter((e,t)=>{if(this.samples.includes(t))return e});var r=l.scaleBand().domain(d).rangeRound([e,800-t]).padding(.5),n=l.scaleLinear().domain([0,l.max(c)]).rangeRound([400-s,a]),i=l.scaleOrdinal(l.schemeCategory10);p.append("g").selectAll("g").data(c).enter().append("g").attr("fill",(e,t)=>i(o)).selectAll("rect").data(c).enter().append("rect").attr("width",r.bandwidth).attr("x",(e,t)=>r(d[t])).attr("y",e=>n(e)).attr("height",e=>n(0)-n(e)),p.append("g").attr("transform","translate(0,"+n(0)+")").call(l.axisBottom(r)).selectAll("text").style("text-anchor","start").attr("transform","rotate(45 -10 10)"),p.append("g").attr("transform","translate("+e+",0)").call(l.axisLeft(n)).append("text").text(this.events[o]).style("font-size","16px").attr("fill","#000").attr("transform","translate(0, 25)")}}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticStyle:{height:"calc(100% - 62px)","margin-top":"2px"}},[a("el-aside",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.menuShow,expression:"$store.state.menuShow"}],staticStyle:{width:"300px",height:"100%","border-right":"1px solid #e6e6e6"},attrs:{width:"350px;"}},[a("leftMenu",{staticStyle:{"margin-top":"5px"}})],1),e._v(" "),a("el-main",[a("div",{},[a("imgMenuShowComp"),e._v(" "),a("el-breadcrumb",{staticStyle:{margin:"5px 0 50px 0"},attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"report"}}},[e._v("项目 "+e._s(e.$store.state.projectName))]),e._v(" "),a("el-breadcrumb-item",[e._v("ASprofile 分析")])],1),e._v(" "),a("h2",[e._v("ASprofile 分析 ")]),e._v(" "),a("div",{},[a("label",{attrs:{for:""}},[e._v("可变剪切事件")]),e._v(" "),a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.events,callback:function(t){e.events=t},expression:"events"}},e._l(e.eventsArr,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),e._v("\n            \n        "),a("label",{attrs:{for:""}},[e._v("样本")]),e._v(" "),a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.samples,callback:function(t){e.samples=t},expression:"samples"}},e._l(e.samplesArr,function(e,t){return a("el-option",{key:e,attrs:{label:e,value:t}})})),e._v("\n            \n        "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.initD3()}}},[e._v("提交")])],1),e._v(" "),a("div",{attrs:{id:"canvas"}})],1)])],1)},staticRenderFns:[]};var o=a("VU/8")(n,i,!1,function(e){a("hlZc")},"data-v-49c77e7c",null);t.default=o.exports}});
//# sourceMappingURL=24.ee1a4d7e87d2571b4695.js.map