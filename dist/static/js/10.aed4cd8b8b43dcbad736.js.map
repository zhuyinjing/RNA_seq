{"version":3,"sources":["webpack:///src/components/plotCluster.vue","webpack:///./src/components/plotCluster.vue?d310","webpack:///./src/components/plotCluster.vue"],"names":["plotCluster","data","tableValue","clusterData","yData","components","leftMenu","imgMenuShowComp","[object Object]","this","axios","get","$store","state","username","projectId","then","res","i","distMatrix","length","j","push","initD3","methods","self","tooltip","d3","append","style","text","preOrder","node","branchset","id","rootNode","innerRadius","outerRadius","cluster","domain","range","size","separation","a","b","chart","attr","root","d","input","on","changed","timeout","setTimeout","property","each","setRadius","y0","k","radius","children","forEach","maxLength","linkExtension","selectAll","links","filter","target","enter","linkExtensionNode","linkExtensionConstant","link","linkNode","linkConstant","rightArea","linear","gridSize","gridHeight","clearTimeout","t","duration","transition","checked","linkExtensionVariable","linkVariable","linkStep","source","x","y","startAngle","startRadius","endAngle","endRadius","parseInt","pageY","pageX","components_plotCluster","render","_vm","_h","$createElement","_c","_self","staticStyle","height","margin-top","directives","name","rawName","value","expression","width","border-right","attrs","_v","margin","separator","to","path","_s","projectName","href","type","icon","click","$event","commit","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/10.aed4cd8b8b43dcbad736.js","sourcesContent":["<template>\n  <el-container style=\"height:calc(100% - 62px);margin-top:2px\">\n    <el-aside v-show=\"$store.state.menuShow\" width=\"350px;\" style=\"width:300px;height:100%;border-right:1px solid #e6e6e6\">\n      <leftMenu style=\"margin-top:5px\"></leftMenu>\n    </el-aside>\n    <el-main>\n      <div class=\"\">\n        <imgMenuShowComp></imgMenuShowComp>\n\n        <el-breadcrumb separator=\"/\" style=\"margin:5px 0 50px 0\">\n          <el-breadcrumb-item :to=\"{ path: 'report' }\">项目 {{$store.state.projectName}}</el-breadcrumb-item>\n          <el-breadcrumb-item>样本聚类图</el-breadcrumb-item>\n        </el-breadcrumb>\n\n        <h2>样本聚类图</h2>\n\n        <p>样本聚类热图，图中矩阵色块颜色的深浅，可以直观的显示不同样本的基因表达模式的接近程度。左侧的树状结构图表示样本聚类的结果，基因表达模式更接近的样本，在数据结构图中的位置更接近。样本距离的计算采用欧式距离，样本间的 linkage 计算方法为 ward，使用的聚类工具是 R 语言的 fastcluster 软件，参考文献：</p>\n        <p>Daniel Müllner, fastcluster: Fast Hierarchical, Agglomerative Clustering Routines for R and Python, Journal of Statistical Software 53 (2013), no. 9, 1–18 [<a href=\"http://www.jstatsoft.org/v53/i09/\" target=\"_blank\">全文链接</a>]</p>\n        <p>“Show branch length” 选项打开以后，树状图的枝干长度会体现样本之间的距离远近。</p>\n\n        <el-button type=\"primary\" size=\"small\" icon=\"el-icon-document\" @click=\"$store.commit('d3savePDF', '样本聚类')\">生成 PDF</el-button>\n        <el-button type=\"primary\" size=\"small\" icon=\"el-icon-picture\" @click=\"$store.commit('d3saveSVG', '样本聚类')\">生成 SVG</el-button>\n        <br><br>\n\n        <label id=\"show-length\">\n          <input type=\"checkbox\"> Show branch length\n        </label>\n        <div id=\"d3container\"></div>\n\n      </div>\n    </el-main>\n  </el-container>\n</template>\n\n<script>\nimport * as d3 from 'd3'\nimport leftMenu from './leftMenu.vue'\nimport imgMenuShowComp from './imgMenuShowComp.vue'\n\nexport default {\n  data () {\n    return {\n      tableValue: [],\n      clusterData: null,\n      yData: [],\n    }\n  },\n  components: {\n    leftMenu,\n    imgMenuShowComp\n  },\n  mounted () {\n    this.axios.get('/server/hclust?username=' + this.$store.state.username + '&p=' + this.$store.state.projectId).then((res) => {\n        this.clusterData = res.data\n        for (let i = 0;i < res.data.distMatrix.length;i++) {\n          for(let j = 0;j < res.data.distMatrix[i].length;j++) {\n            this.tableValue.push(res.data.distMatrix[i][j])\n          }\n        }\n        this.initD3()\n    })\n  },\n  methods: {\n    initD3 () {\n      let self = this\n      let tooltip = d3.select('body')\n      \t.append('div')\n      \t.style('position', 'absolute')\n        .style('z-index', '10')\n        .style('visibility', 'hidden')\n        .style('font-size', '14px')\n      \t.style('font-weight', 'bold')\n      \t.text('')\n      preOrder(this.clusterData.rootNode)\n      function preOrder(node){\n         if(node.branchset === null){\n            self.yData.push(node.id)   // 每一行的值\n         } else {\n           preOrder(node.branchset[0]);\n           preOrder(node.branchset[1]);\n         }\n       }\n      var outerRadius = 1350 / 2,\n      innerRadius = outerRadius - 170;\n\n      var color = d3.scaleOrdinal()\n          .domain([0,d3.max(self.tableValue)])\n          .range(d3.schemeCategory10);\n\n      var cluster = d3.cluster()\n          .size([700, innerRadius])\n          .separation(function(a, b) { return 1; });\n\n      var svg = d3.select(\"#d3container\").append(\"svg\")\n          .attr(\"width\", outerRadius * 2)\n          .attr(\"height\", 900)\n\n      // cluster margin top left\n      var chart = svg.append(\"g\")\n          .attr(\"transform\", \"translate(\" + 0 + \",\" + 50 + \")\");\n\n        var root = d3.hierarchy(self.clusterData.rootNode, function(d) {\n          return d.branchset;\n        });\n        cluster(root);\n\n        var input = d3.select(\"#show-length input\").on(\"change\", changed),\n            timeout = setTimeout(function() { input.property(\"checked\", true).each(changed); }, 100);\n\n        setRadius(root, root.data.length = 0, innerRadius / maxLength(root));\n        var linkExtension = chart.append(\"g\")\n          .attr(\"class\", \"link-extensions\")\n          .selectAll(\"path\")\n          .data(root.links().filter(function(d) {\n              return !d.target.children;\n            }))\n          .enter().append(\"path\")\n          .each(function(d) {\n            d.target.linkExtensionNode = this;\n          })\n          .attr(\"d\", linkExtensionConstant)\n          .style(\"stroke\",\"black\")\n\n        var link = chart.append(\"g\")\n            .attr(\"class\", \"links\")\n            .selectAll(\"path\")\n            .data(root.links())\n            .enter().append(\"path\")\n            .each(function(d) {\n              d.target.linkNode = this;\n            })\n            .attr(\"d\", linkConstant)\n            .style(\"fill\",\"none\")\n            .style(\"stroke\",\"black\")\n\n        var rightArea = chart.append(\"g\")\n          .attr(\"class\", \"labels\")\n          .attr(\"transform\", function(d, i) { return \"translate(\" + (innerRadius + 5) + \",\"+ (i + 0.5) +\")\"; })\n\n        var linear = d3.scaleLinear()\n            .domain([0, d3.max(self.tableValue)])\n            .range([(d3.rgb(6,113,160)), (d3.rgb(120,248,232))]);\n\n        let gridSize = 700 / self.yData.length\n        let gridHeight = 700 / self.yData.length\n\n        rightArea.selectAll(\".nameLabel\")\n            .data(self.yData)\n            .enter()\n            .append(\"text\")\n            .text(function (d) { return d; })\n            .attr(\"x\", 0)\n            .attr(\"y\", function (d, i) { return parseInt(i) * gridHeight + 5; })\n            .style(\"text-anchor\", \"start\")\n            .style(\"font-size\", \"12px\")\n            .style(\"font-family\", \"Consolas, Monaco, monospace\")\n            .attr(\"transform\", \"translate(\"+ (gridSize * (self.yData.length) + 10) +\",\" + \"\"+ (gridHeight / 2) +\")\")\n            .attr('class', 'ySum')\n        rightArea.selectAll(\".score\")\n            .data(self.tableValue)\n            .enter()\n            .append(\"rect\")\n            .attr(\"x\", function(d, i){\n              return (i % self.yData.length) * gridSize;\n            })\n            .attr(\"y\", function(d, i){ return parseInt(i / self.yData.length) * gridHeight;})\n            .attr(\"width\", gridSize)\n            .attr(\"height\", gridHeight)\n            .style(\"fill\", function(d) { return linear(d) })\n            .on('mouseover', function (d, i) {\n              return tooltip.style('visibility', 'visible').text(d)\n            })\n            .on('mousemove', function (d, i) {\n              return tooltip.style('top', (d3.event.pageY-10)+'px').style('left',(d3.event.pageX+10)+'px')\n            })\n            .on('mouseout', function (d, i) {\n              return tooltip.style('visibility', 'hidden')\n            })\n            // .append(\"title\").text(function(d) { return d; });\n\n        function changed() {\n          clearTimeout(timeout);\n          var t = d3.transition().duration(500);\n          linkExtension.transition(t).attr(\"d\", this.checked ? linkExtensionVariable : linkExtensionConstant);\n          link.transition(t).attr(\"d\", this.checked ? linkVariable : linkConstant);\n        }\n\n      // Compute the maximum cumulative length of any node in the tree.\n      function maxLength(d) {\n        return d.data.length + (d.children ? d3.max(d.children, maxLength) : 0);\n      }\n\n      // Set the radius of each node by recursively summing and scaling the distance from the root.\n      function setRadius(d, y0, k) {\n        d.radius = (y0 += d.data.length) * k;\n        if (d.children) d.children.forEach(function(d) { setRadius(d, y0, k); });\n      }\n\n      function linkVariable(d) {\n        return linkStep(d.source.x, d.source.radius, d.target.x, d.target.radius);\n      }\n\n      function linkConstant(d) {\n        return linkStep(d.source.x, d.source.y, d.target.x, d.target.y);\n      }\n\n      function linkExtensionVariable(d) {\n        return linkStep(d.target.x, d.target.radius, d.target.x, innerRadius);\n      }\n\n      function linkExtensionConstant(d) {\n        return linkStep(d.target.x, d.target.y, d.target.x, innerRadius);\n      }\n\n      // Like d3.svg.diagonal.radial, but with square corners.\n      function linkStep(startAngle, startRadius, endAngle, endRadius) {\n        return \"M\" + startRadius  + \",\" + startAngle\n            // + (endAngle === startAngle ? \"\" : \"L\" + startRadius  + \",\" + endAngle)\n            + \"L\" + startRadius + \",\" + endAngle\n            + \"L\" + endRadius + \",\" + endAngle\n      }\n    },\n\n  }\n}\n</script>\n\n<style scoped=\"true\">\n.content {\n  float:left;\n  /* width: 60%; */\n  width: calc(100% - 350px);\n  padding: 0 20px;\n  margin: 19px auto;\n}\n.cursor-pointer {\n  cursor: pointer;\n}\n</style>\n<style media=\"screen\">\n.node circle {\nfill: #999;\n}\n\n.node text {\nfont: 10px sans-serif;\n}\n\n.node--internal circle {\nfill: #555;\n}\n\n.node--internal text {\ntext-shadow: 0 1px 0 #fff, 0 -1px 0 #fff, 1px 0 0 #fff, -1px 0 0 #fff;\n}\n\n.link {\nfill: none;\nstroke: #555;\nstroke-opacity: 0.4;\nstroke-width: 1.5px;\n}\n\n.links {\n  fill: none;\n  stroke: #000;\n}\n\n.link-extensions {\n  fill: none;\n  stroke: #000;\n  stroke-opacity: .25;\n}\n\n.labels {\n  font: 10px sans-serif;\n}\n\n.link--active {\n  stroke: #000 !important;\n  stroke-width: 1.5px;\n}\n\n.link-extension--active {\n  stroke-opacity: .6;\n}\n\n.label--active {\n  font-weight: bold;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/plotCluster.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticStyle:{\"height\":\"calc(100% - 62px)\",\"margin-top\":\"2px\"}},[_c('el-aside',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$store.state.menuShow),expression:\"$store.state.menuShow\"}],staticStyle:{\"width\":\"300px\",\"height\":\"100%\",\"border-right\":\"1px solid #e6e6e6\"},attrs:{\"width\":\"350px;\"}},[_c('leftMenu',{staticStyle:{\"margin-top\":\"5px\"}})],1),_vm._v(\" \"),_c('el-main',[_c('div',{},[_c('imgMenuShowComp'),_vm._v(\" \"),_c('el-breadcrumb',{staticStyle:{\"margin\":\"5px 0 50px 0\"},attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: 'report' }}},[_vm._v(\"项目 \"+_vm._s(_vm.$store.state.projectName))]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"样本聚类图\")])],1),_vm._v(\" \"),_c('h2',[_vm._v(\"样本聚类图\")]),_vm._v(\" \"),_c('p',[_vm._v(\"样本聚类热图，图中矩阵色块颜色的深浅，可以直观的显示不同样本的基因表达模式的接近程度。左侧的树状结构图表示样本聚类的结果，基因表达模式更接近的样本，在数据结构图中的位置更接近。样本距离的计算采用欧式距离，样本间的 linkage 计算方法为 ward，使用的聚类工具是 R 语言的 fastcluster 软件，参考文献：\")]),_vm._v(\" \"),_c('p',[_vm._v(\"Daniel Müllner, fastcluster: Fast Hierarchical, Agglomerative Clustering Routines for R and Python, Journal of Statistical Software 53 (2013), no. 9, 1–18 [\"),_c('a',{attrs:{\"href\":\"http://www.jstatsoft.org/v53/i09/\",\"target\":\"_blank\"}},[_vm._v(\"全文链接\")]),_vm._v(\"]\")]),_vm._v(\" \"),_c('p',[_vm._v(\"“Show branch length” 选项打开以后，树状图的枝干长度会体现样本之间的距离远近。\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-document\"},on:{\"click\":function($event){_vm.$store.commit('d3savePDF', '样本聚类')}}},[_vm._v(\"生成 PDF\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-picture\"},on:{\"click\":function($event){_vm.$store.commit('d3saveSVG', '样本聚类')}}},[_vm._v(\"生成 SVG\")]),_vm._v(\" \"),_c('br'),_c('br'),_vm._v(\" \"),_c('label',{attrs:{\"id\":\"show-length\"}},[_c('input',{attrs:{\"type\":\"checkbox\"}}),_vm._v(\" Show branch length\\n      \")]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"d3container\"}})],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f9581ce2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/plotCluster.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f9581ce2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./plotCluster.vue\")\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f9581ce2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=1!./plotCluster.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./plotCluster.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./plotCluster.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f9581ce2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./plotCluster.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f9581ce2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/plotCluster.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}