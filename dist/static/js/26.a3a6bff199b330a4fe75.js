webpackJsonp([26],{"ebw+":function(e,t){},iibm:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("Oj91"),r=s("K0Oa"),l=s("f4AQ"),i={data:()=>({events:[],samples:[],eventsArr:[],samplesArr:[],data:{}}),components:{leftMenu:a.a,imgMenuShowComp:r.a},mounted(){this.getValue()},methods:{getValue(){this.axios.get("/server/as_profile_info?username="+this.$store.state.username+"&p="+this.$store.state.projectId).then(e=>{"success"===e.data.message_type?(this.eventsArr=e.data.ASProfileInfo.asName,this.samplesArr=e.data.ASProfileInfo.sampleName,this.data=e.data.ASProfileInfo.asEventMap,this.events=e.data.ASProfileInfo.asName,this.samplesArr.forEach((e,t)=>{this.samples.push(t)}),this.initD3()):this.$message.error("请求错误!")})},initD3(){if(0===this.events.length||0===this.samples.length)return void this.$message.error("请选择可变剪切事件和样本，不能为空！");l.selectAll("svg")&&l.selectAll("svg").remove();let e=100,t=30,s=30,a=80,r=l.select("body").append("div").style("position","absolute").style("z-index","10").style("visibility","hidden").style("font-size","14px").style("font-weight","bold").text("");for(let p=0;p<this.events.length;p++){let d=l.select("#canvas").append("svg").attr("id","svg").attr("width",800).attr("height",400),c=this.data[this.events[p]].filter((e,t)=>{if(this.samples.includes(t))return e}),m=this.samplesArr.filter((e,t)=>{if(this.samples.includes(t))return e});var i=l.scaleBand().domain(m).rangeRound([e,800-t]).padding(.5),n=l.scaleLinear().domain([0,l.max(c)]).rangeRound([400-a,s]),o=l.scaleOrdinal(l.schemeCategory10);d.append("g").selectAll("g").data(c).enter().append("g").attr("fill",(e,t)=>o(p)).selectAll("rect").data(c).enter().append("rect").attr("width",i.bandwidth).attr("x",(e,t)=>i(m[t])).attr("y",e=>n(e)).attr("height",e=>n(0)-n(e)).on("mouseover",(e,t)=>r.style("visibility","visible").text(e)).on("mousemove",function(e,t){return r.style("top",l.event.pageY-10+"px").style("left",l.event.pageX+10+"px")}).on("mouseout",function(e,t){return r.style("visibility","hidden")}),d.append("g").attr("transform","translate(0,"+n(0)+")").call(l.axisBottom(i)).selectAll("text").style("text-anchor","start").attr("transform","rotate(45 -10 10)"),d.append("g").attr("transform","translate("+e+",0)").call(l.axisLeft(n)).append("text").text(this.events[p]).style("font-size","16px").attr("fill","#000").attr("transform","translate(0, 25)")}}}},n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-container",{staticStyle:{height:"calc(100% - 62px)","margin-top":"2px"}},[s("el-aside",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.menuShow,expression:"$store.state.menuShow"}],staticStyle:{width:"300px",height:"100%","border-right":"1px solid #e6e6e6"},attrs:{width:"350px;"}},[s("leftMenu",{staticStyle:{"margin-top":"5px"}})],1),e._v(" "),s("el-main",[s("div",{},[s("imgMenuShowComp"),e._v(" "),s("el-breadcrumb",{staticStyle:{margin:"5px 0 50px 0"},attrs:{separator:"/"}},[s("el-breadcrumb-item",{attrs:{to:{path:"report"}}},[e._v("项目 "+e._s(e.$store.state.projectName))]),e._v(" "),s("el-breadcrumb-item",[e._v("可变剪切事件数量统计")])],1),e._v(" "),s("h2",[e._v("可变剪切事件数量统计")]),e._v(" "),s("div",{staticStyle:{"min-width":"1100px"}},[s("label",{attrs:{for:""}},[e._v("可变剪切事件")]),e._v(" "),s("el-select",{staticStyle:{width:"400px"},attrs:{multiple:"",placeholder:"请选择"},model:{value:e.events,callback:function(t){e.events=t},expression:"events"}},e._l(e.eventsArr,function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})})),e._v("\n            \n        "),s("label",{attrs:{for:""}},[e._v("样本")]),e._v(" "),s("el-select",{staticStyle:{width:"400px"},attrs:{multiple:"",placeholder:"请选择"},model:{value:e.samples,callback:function(t){e.samples=t},expression:"samples"}},e._l(e.samplesArr,function(e,t){return s("el-option",{key:e,attrs:{label:e,value:t}})})),e._v("\n            \n        "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.initD3()}}},[e._v("提交")])],1),e._v(" "),s("div",{attrs:{id:"canvas"}})],1)])],1)},staticRenderFns:[]};var o=s("VU/8")(i,n,!1,function(e){s("ebw+")},"data-v-a53884ec",null);t.default=o.exports}});
//# sourceMappingURL=26.a3a6bff199b330a4fe75.js.map