webpackJsonp([7],{"1/X2":function(e,t){},"5SoJ":function(e,t){},xDHS:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Oj91"),i=a("f4AQ"),l={data:()=>({checkboxValue:[],checkAll:!1,checkedPCA:[],isIndeterminate:!1,tableValue:[],conditionArr:[],maxValue:[],minValue:[]}),components:{leftMenu:n.a},created(){this.getValue()},mounted(){},methods:{getValue(){this.axios.get("/server/pca4gene?username="+this.$store.state.username+"&p="+this.$store.state.projectId).then(e=>{this.tableValue=e.data.pca4GeneExprMatrix.sampleCoordMap,this.maxValue=e.data.maxValue,this.minValue=e.data.minValue;for(let t=0;t<e.data.pca4GeneExprMatrix.percentVariance.length;t++)this.checkboxValue.push(t+1);for(let t in e.data.experimentDesign.conditionNumMap)this.conditionArr.push(t)})},handleCheckAllChange(e){this.checkedPCA=e?this.checkboxValue:[],this.isIndeterminate=!1},handlecheckedPCAChange(e){let t=e.length;this.checkAll=t===this.checkboxValue.length,this.isIndeterminate=t>0&&t<this.checkboxValue.length},initD3(){var e=40,t=20,a=20,n=20,l=800-e-n,r=800-t-n,c=i.select(".container").append("svg").attr("class","test").attr("width",l).attr("height",r).style("padding-left",e).style("padding-right",a).style("padding-top",t).style("padding-bottom",n);let s=i.scaleLinear().range([r,0]).domain([-this.maxValue[1]-2,this.maxValue[1]+2]),o=i.axisLeft(s).ticks(3),u=(c.append("g").attr("class","yaxis").attr("transform","translate(0,0)").call(o).style("font-size","14px"),i.scaleLinear().range([0,l]).domain([this.maxValue[7]+2,-this.maxValue[7]-2])),h=i.axisBottom(u).ticks(3);c.append("g").attr("class","xaxis").attr("transform","translate(0 ,"+r+")").call(h).style("font-size","14px");i.selectAll(".domain").remove(),c.append("g").attr("class","grid").attr("transform","translate(0,"+r+")").call(i.axisBottom(u).ticks(4).tickSize(-r).tickFormat("")),c.append("g").attr("class","grid").call(i.axisLeft(s).ticks(4).tickSize(-l).tickFormat(""));i.scaleLinear().domain([i.min(this.tableValue,function(e){return Number(e.p_value)}),i.max(this.tableValue,function(e){return Number(e.p_value)})]).range(["red","blue"]),i.scaleLinear().domain([i.min(this.tableValue,function(e){return e.gene_ratio}),i.max(this.tableValue,function(e){return e.gene_ratio})]).range([10,20]);c.append("g").selectAll("circle").data([[9,9],[5,5],[0,0],[4,6]]).enter().append("circle").attr("cx",function(e,t){return u(e[0])}).attr("cy",function(e){return s(e[1])}).attr("r",function(e){return 10}).attr("fill",function(e){return"pink"});i.scaleOrdinal(i.schemeCategory10)}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("leftMenu",{staticStyle:{float:"left",width:"300px","margin-top":"10px"}}),e._v(" "),a("div",{staticClass:"content"},[a("el-breadcrumb",{staticStyle:{margin:"5px 0 50px 0"},attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"report"}}},[e._v("项目 "+e._s(e.$store.state.projectName))]),e._v(" "),a("el-breadcrumb-item",[e._v("PCA 主成分分析")])],1),e._v(" "),a("h2",[e._v("PCA 主成分分析")]),e._v(" "),a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._v(" "),a("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),a("el-checkbox-group",{on:{change:e.handlecheckedPCAChange},model:{value:e.checkedPCA,callback:function(t){e.checkedPCA=t},expression:"checkedPCA"}},e._l(e.checkboxValue,function(t){return a("el-checkbox",{key:t,staticStyle:{width:"20%"},attrs:{label:t}},[e._v("PC"+e._s(t))])})),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.initD3()}}},[e._v("确定")]),e._v(" "),a("div",{staticClass:"container"})],1)],1)},staticRenderFns:[]};var c=a("VU/8")(l,r,!1,function(e){a("1/X2"),a("5SoJ")},"data-v-641508cc",null);t.default=c.exports}});
//# sourceMappingURL=7.20230abe88934cf13917.js.map