webpackJsonp([15],{"7cpG":function(t,e){},BHx4:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("f4AQ"),l=a("GooH"),s=a("Ck+T"),o={data:()=>({textareaMatrix:"",textareaGroup:"",row_distance:"euclidean",row_linkage:"ward",column_distance:"euclidean",column_linkage:"ward",radioMatrix:"content",radioGroup:"content",MatrixIsFile:!0,GroupIsFile:!0,loading:null}),components:{appLeftMenu:l.a,appImgMenuShowComp:s.a},mounted(){},methods:{submit(){if("file"===this.radioMatrix){if(!this.$refs.fileMatrix.files[0])return void this.$message.error("请上传基因表达矩阵文件!");if(!1===/text\/(c|t)sv$/.test(this.$refs.fileMatrix.files[0].type))return void this.$message.error("基因表达矩阵文件格式不对，请重新上传!");this.MatrixIsFile=!0}else{if(!this.textareaMatrix.trim())return void this.$message.error("请输入基因表达矩阵!");this.MatrixIsFile=!1}if("file"===this.radioGroup){if(!this.$refs.fileGroup.files[0])return void this.$message.error("请上传分组信息文件!");if(!1===/text\/(c|t)sv$/.test(this.$refs.fileGroup.files[0].type))return void this.$message.error("分组信息文件格式不对，请重新上传!");this.GroupIsFile=!0}else{if(!this.textareaGroup)return void this.$message.error("请输入分组信息!");this.GroupIsFile=!1}this.loading=this.$loading({lock:!0,text:"文件正在上传中...请稍等...可能需要等待1分钟左右的时间...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});let t=new FormData;t.append("username",this.$store.state.username),t.append("matrixFile",this.$refs.fileMatrix.files[0]),t.append("columnFile",this.$refs.fileGroup.files[0]),t.append("matrixText",this.textareaMatrix),t.append("columnText",this.textareaGroup),t.append("row_distance",this.row_distance),t.append("row_linkage",this.row_linkage),t.append("column_distance",this.column_distance),t.append("column_linkage",this.column_linkage),t.append("matrixIsFile",this.MatrixIsFile),t.append("columnIsFile",this.GroupIsFile),this.axios.post("/server/upload_heatmap_file",t).then(t=>{"success"===t.data.message_type?(this.$message.success("热图生成完成!"),this.$store.commit("setheatmapJson",t.data.message),this.$router.push({name:"app_heatmap"})):this.$message.success("请求错误!"),this.loading.close()})},exampleMatrixClick(){i.text("/static/matrix.txt",t=>{this.textareaMatrix=t})},exampleGroupClick(){i.text("/static/group.txt",t=>{this.textareaGroup=t})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticStyle:{height:"calc(100% - 62px)","margin-top":"2px"}},[a("el-aside",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.appmenuShow,expression:"$store.state.appmenuShow"}],staticStyle:{width:"300px",height:"100%","border-right":"1px solid #e6e6e6"}},[a("appLeftMenu")],1),t._v(" "),a("el-main",[a("appImgMenuShowComp"),t._v(" "),a("div",[a("div",{staticClass:"margin-top-10"},[a("div",{staticClass:"labelStyle"},[a("label",{staticClass:"label-font",attrs:{for:"maxpval"}},[t._v("基因表达矩阵")])]),t._v(" "),a("div",{staticClass:"inline-block"},[a("el-radio",{attrs:{label:"content"},model:{value:t.radioMatrix,callback:function(e){t.radioMatrix=e},expression:"radioMatrix"}},[t._v("手动输入")]),t._v(" "),a("el-radio",{attrs:{label:"file"},model:{value:t.radioMatrix,callback:function(e){t.radioMatrix=e},expression:"radioMatrix"}},[t._v("上传文件")])],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"content"===t.radioMatrix,expression:"radioMatrix === 'content'"}],staticClass:"margin-top-10"},[a("div",{staticClass:"labelStyle"}),t._v(" "),a("div",{staticClass:"inline-block",staticStyle:{width:"800px"}},[a("el-input",{attrs:{type:"textarea",rows:20,placeholder:"请输入内容"},model:{value:t.textareaMatrix,callback:function(e){t.textareaMatrix=e},expression:"textareaMatrix"}})],1),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.exampleMatrixClick()}}},[t._v("(example)")])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"file"===t.radioMatrix,expression:"radioMatrix === 'file'"}],staticClass:"margin-top-10"},[a("div",{staticClass:"labelStyle"}),t._v(" "),a("div",{staticClass:"inline-block",staticStyle:{width:"300px"}},[a("input",{ref:"fileMatrix",attrs:{type:"file",name:"",accept:".csv, .tsv"}}),t._v(" "),a("p",{staticClass:"span-font"},[t._v("支持文件类型：tsv, csv")])])]),t._v(" "),a("div",{staticClass:"margin-top-10"},[a("div",{staticClass:"labelStyle"},[a("label",{staticClass:"label-font",attrs:{for:"maxpval"}},[t._v("分组信息")])]),t._v(" "),a("div",{staticClass:"inline-block"},[a("el-radio",{attrs:{label:"content"},model:{value:t.radioGroup,callback:function(e){t.radioGroup=e},expression:"radioGroup"}},[t._v("手动输入")]),t._v(" "),a("el-radio",{attrs:{label:"file"},model:{value:t.radioGroup,callback:function(e){t.radioGroup=e},expression:"radioGroup"}},[t._v("上传文件")])],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"content"===t.radioGroup,expression:"radioGroup === 'content'"}],staticClass:"margin-top-10"},[a("div",{staticClass:"labelStyle"}),t._v(" "),a("div",{staticClass:"inline-block",staticStyle:{width:"800px"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入内容"},model:{value:t.textareaGroup,callback:function(e){t.textareaGroup=e},expression:"textareaGroup"}})],1),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.exampleGroupClick()}}},[t._v("(example)")])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"file"===t.radioGroup,expression:"radioGroup === 'file'"}],staticClass:"margin-top-10"},[a("div",{staticClass:"labelStyle"}),t._v(" "),a("div",{staticClass:"inline-block",staticStyle:{width:"300px"}},[a("input",{ref:"fileGroup",attrs:{type:"file",name:"",accept:".csv, .tsv"}}),t._v(" "),a("p",{staticClass:"span-font"},[t._v("支持文件类型：tsv, csv")])])]),t._v(" "),a("div",{},[a("div",{staticClass:"margin-top-10"},[a("div",{staticClass:"labelStyle"},[a("label",{staticClass:"label-font",attrs:{for:"maxpval"}},[t._v("基因距离计算方法")])]),t._v(" "),a("el-select",{staticClass:"input-style",attrs:{placeholder:"请选择"},model:{value:t.row_distance,callback:function(e){t.row_distance=e},expression:"row_distance"}},[a("el-option-group",{attrs:{label:"Favourites"}},[a("el-option",{attrs:{value:"euclidean"}},[t._v("euclidean")]),t._v(" "),a("el-option",{attrs:{value:"correlation"}},[t._v("correlation")])],1),t._v(" "),a("el-option-group",{attrs:{label:"All"}},[a("el-option",{attrs:{value:"braycurtis"}},[t._v("braycurtis")]),t._v(" "),a("el-option",{attrs:{value:"canberra"}},[t._v("canberra")]),t._v(" "),a("el-option",{attrs:{value:"chebyshev"}},[t._v("chebyshev")]),t._v(" "),a("el-option",{attrs:{value:"cityblock"}},[t._v("cityblock")]),t._v(" "),a("el-option",{attrs:{value:"cosine"}},[t._v("cosine")]),t._v(" "),a("el-option",{attrs:{value:"dice"}},[t._v("dice")]),t._v(" "),a("el-option",{attrs:{value:"hamming"}},[t._v("hamming")]),t._v(" "),a("el-option",{attrs:{value:"jaccard"}},[t._v("jaccard")]),t._v(" "),a("el-option",{attrs:{value:"kulsinski"}},[t._v("kulsinski")]),t._v(" "),a("el-option",{attrs:{value:"mahalanobis"}},[t._v("mahalanobis")]),t._v(" "),a("el-option",{attrs:{value:"minkowski"}},[t._v("minkowski")]),t._v(" "),a("el-option",{attrs:{value:"matching"}},[t._v("matching")]),t._v(" "),a("el-option",{attrs:{value:"rogerstanimoto"}},[t._v("rogerstanimoto")]),t._v(" "),a("el-option",{attrs:{value:"russellrao"}},[t._v("russellrao")]),t._v(" "),a("el-option",{attrs:{value:"seuclidean"}},[t._v("seuclidean")]),t._v(" "),a("el-option",{attrs:{value:"sqeuclidean"}},[t._v("sqeuclidean")]),t._v(" "),a("el-option",{attrs:{value:"sokalmichener"}},[t._v("sokalmichener")]),t._v(" "),a("el-option",{attrs:{value:"sokalsneath"}},[t._v("sokalsneath")]),t._v(" "),a("el-option",{attrs:{value:"yule"}},[t._v("yule")])],1)],1)],1),t._v(" "),a("div",{staticClass:"margin-top-10"},[a("div",{staticClass:"labelStyle"},[a("label",{staticClass:"label-font",attrs:{for:"maxfdr"}},[t._v("基因linkage计算方法")])]),t._v(" "),a("el-select",{staticClass:"input-style",attrs:{placeholder:"请选择"},model:{value:t.row_linkage,callback:function(e){t.row_linkage=e},expression:"row_linkage"}},[a("el-option",{attrs:{value:"average"}},[t._v("average")]),t._v(" "),a("el-option",{attrs:{value:"centroid"}},[t._v("centroid")]),t._v(" "),a("el-option",{attrs:{value:"complete"}},[t._v("complete")]),t._v(" "),a("el-option",{attrs:{value:"median"}},[t._v("median")]),t._v(" "),a("el-option",{attrs:{value:"single"}},[t._v("single")]),t._v(" "),a("el-option",{attrs:{value:"ward"}},[t._v("ward")]),t._v(" "),a("el-option",{attrs:{value:"weighted"}},[t._v("weighted")])],1)],1),t._v(" "),a("div",{staticClass:"margin-top-10"},[a("div",{staticClass:"labelStyle"},[a("label",{staticClass:"label-font",attrs:{for:"minfc"}},[t._v("样本距离计算方法")])]),t._v(" "),a("el-select",{staticClass:"input-style",attrs:{placeholder:"请选择"},model:{value:t.column_distance,callback:function(e){t.column_distance=e},expression:"column_distance"}},[a("el-option-group",{attrs:{label:"Favourites"}},[a("el-option",{attrs:{value:"euclidean"}},[t._v("euclidean")]),t._v(" "),a("el-option",{attrs:{value:"correlation"}},[t._v("correlation")])],1),t._v(" "),a("el-option-group",{attrs:{label:"All"}},[a("el-option",{attrs:{value:"braycurtis"}},[t._v("braycurtis")]),t._v(" "),a("el-option",{attrs:{value:"canberra"}},[t._v("canberra")]),t._v(" "),a("el-option",{attrs:{value:"chebyshev"}},[t._v("chebyshev")]),t._v(" "),a("el-option",{attrs:{value:"cityblock"}},[t._v("cityblock")]),t._v(" "),a("el-option",{attrs:{value:"cosine"}},[t._v("cosine")]),t._v(" "),a("el-option",{attrs:{value:"dice"}},[t._v("dice")]),t._v(" "),a("el-option",{attrs:{value:"hamming"}},[t._v("hamming")]),t._v(" "),a("el-option",{attrs:{value:"jaccard"}},[t._v("jaccard")]),t._v(" "),a("el-option",{attrs:{value:"kulsinski"}},[t._v("kulsinski")]),t._v(" "),a("el-option",{attrs:{value:"mahalanobis"}},[t._v("mahalanobis")]),t._v(" "),a("el-option",{attrs:{value:"minkowski"}},[t._v("minkowski")]),t._v(" "),a("el-option",{attrs:{value:"matching"}},[t._v("matching")]),t._v(" "),a("el-option",{attrs:{value:"rogerstanimoto"}},[t._v("rogerstanimoto")]),t._v(" "),a("el-option",{attrs:{value:"russellrao"}},[t._v("russellrao")]),t._v(" "),a("el-option",{attrs:{value:"seuclidean"}},[t._v("seuclidean")]),t._v(" "),a("el-option",{attrs:{value:"sqeuclidean"}},[t._v("sqeuclidean")]),t._v(" "),a("el-option",{attrs:{value:"sokalmichener"}},[t._v("sokalmichener")]),t._v(" "),a("el-option",{attrs:{value:"sokalsneath"}},[t._v("sokalsneath")]),t._v(" "),a("el-option",{attrs:{value:"yule"}},[t._v("yule")])],1)],1)],1),t._v(" "),a("div",{staticClass:"margin-top-10"},[a("div",{staticClass:"labelStyle"},[a("label",{staticClass:"label-font"},[t._v("样本linkage计算方法")])]),t._v(" "),a("el-select",{staticClass:"input-style",attrs:{placeholder:"请选择"},model:{value:t.column_linkage,callback:function(e){t.column_linkage=e},expression:"column_linkage"}},[a("el-option",{attrs:{value:"average"}},[t._v("average")]),t._v(" "),a("el-option",{attrs:{value:"centroid"}},[t._v("centroid")]),t._v(" "),a("el-option",{attrs:{value:"complete"}},[t._v("complete")]),t._v(" "),a("el-option",{attrs:{value:"median"}},[t._v("median")]),t._v(" "),a("el-option",{attrs:{value:"single"}},[t._v("single")]),t._v(" "),a("el-option",{attrs:{value:"ward"}},[t._v("ward")]),t._v(" "),a("el-option",{attrs:{value:"weighted"}},[t._v("weighted")])],1)],1)]),t._v(" "),a("div",{staticClass:"margin-top-10"},[a("div",{staticClass:"labelStyle"}),t._v(" "),a("div",{staticClass:"inline-block",staticStyle:{width:"300px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submit()}}},[t._v("提交")])],1)])])],1)],1)},staticRenderFns:[]};var n=a("VU/8")(o,r,!1,function(t){a("7cpG"),a("ezIH")},"data-v-4da86eb6",null);e.default=n.exports},ezIH:function(t,e){}});
//# sourceMappingURL=15.7176d5061c83d1f7ad3e.js.map