webpackJsonp([33],{MYk6:function(t,e){},SWyW:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("Oj91"),a=s("K0Oa"),i=s("f4AQ"),n={data:()=>({eventsArr:[],eventsArrReverse:[],samplesArr:[],data:[]}),components:{leftMenu:r.a,imgMenuShowComp:a.a},mounted(){this.getValue()},methods:{getValue(){this.axios.get("/server/as_profile_info?username="+this.$store.state.username+"&p="+this.$store.state.projectId).then(t=>{if("success"===t.data.message_type){this.eventsArr=t.data.ASProfileInfo.asName,this.samplesArr=t.data.ASProfileInfo.sampleName;for(let e=0;e<this.eventsArr.length;e++)this.data.push(t.data.ASProfileInfo.asEventPercentMap[this.eventsArr[e]]);this.eventsArrReverse=Array.from(this.eventsArr).reverse(),this.initD3()}else this.$message.error("请求错误!")})},initD3(){let t=50,e=30,s=30,r=80,a=i.select("#d3container").append("svg").attr("id","svg").attr("width",1e3).attr("height",600),n=i.select("body").append("div").style("position","absolute").style("z-index","10").style("visibility","hidden").style("font-size","14px").style("font-weight","bold").text("");var o=i.scaleBand().domain(this.samplesArr).rangeRound([t,900-e]).padding(.3),l=i.scaleLinear().domain([0,100]).rangeRound([600-r,s]),c=i.scaleOrdinal(i.schemeCategory20);i.stack().offset(i.stackOffsetExpand);a.append("g").attr("transform","translate(0,"+l(0)+")").call(i.axisBottom(o)).selectAll("text").style("text-anchor","start").attr("transform","rotate(45 -10 10)"),a.append("g").attr("transform","translate("+t+",0)").call(i.axisLeft(l).tickFormat(t=>t+"%"));for(let t=0;t<this.samplesArr.length;t++){let e=0,s=0,r=t,d=this.samplesArr[t];a.selectAll(".rect").data(this.data).enter().append("rect").attr("x",t=>o(d)).attr("y",(t,s)=>(e+=t[r],l(e))).attr("height",(t,e)=>(s+=t[r],0===e?l(0)-l(t[r]):l(s-t[r])-l(s))).attr("width",o.bandwidth()).attr("fill",(t,e)=>c(e)).on("mouseover",(t,e)=>n.style("visibility","visible").text(this.eventsArr[e]+" "+t[r]+"%")).on("mousemove",function(t,e){return n.style("top",i.event.pageY-10+"px").style("left",i.event.pageX+10+"px")}).on("mouseout",function(t,e){return n.style("visibility","hidden")})}let d=a.append("g").attr("transform","translate(870,"+s+")");d.selectAll("rect").data(this.eventsArrReverse).enter().append("rect").attr("x",(t,e)=>0).attr("y",(t,e)=>15*e+5*e).attr("width",15).attr("height",15).attr("fill",(t,e)=>c(this.eventsArr.length-1-e)),d.selectAll("text").data(this.eventsArrReverse).enter().append("text").attr("x",(t,e)=>20).attr("y",(t,e)=>15*e+5*e+12).text(t=>t)}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-container",{staticStyle:{height:"calc(100% - 62px)","margin-top":"2px"}},[s("el-aside",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.menuShow,expression:"$store.state.menuShow"}],staticStyle:{width:"300px",height:"100%","border-right":"1px solid #e6e6e6"},attrs:{width:"350px;"}},[s("leftMenu",{staticStyle:{"margin-top":"5px"}})],1),t._v(" "),s("el-main",[s("div",{},[s("imgMenuShowComp"),t._v(" "),s("el-breadcrumb",{staticStyle:{margin:"5px 0 50px 0"},attrs:{separator:"/"}},[s("el-breadcrumb-item",{attrs:{to:{path:"report"}}},[t._v("项目 "+t._s(t.$store.state.projectName))]),t._v(" "),s("el-breadcrumb-item",[t._v("可变剪切事件百分比统计")])],1),t._v(" "),s("h2",[t._v("可变剪切事件百分比统计")]),t._v(" "),s("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-picture"},on:{click:function(e){t.$store.commit("d3saveSVG","可变剪切事件百分比统计")}}},[t._v("生成 SVG")]),t._v(" "),s("i",{staticClass:"el-icon-question cursor-pointer",staticStyle:{"font-size":"16px"},on:{click:function(e){t.$store.state.svgDescribeShow=!0}}}),t._v(" "),s("div",{attrs:{id:"d3container"}})],1)])],1)},staticRenderFns:[]};var l=s("VU/8")(n,o,!1,function(t){s("MYk6")},"data-v-1a572364",null);e.default=l.exports}});
//# sourceMappingURL=33.65d62b809af7e30b7fad.js.map