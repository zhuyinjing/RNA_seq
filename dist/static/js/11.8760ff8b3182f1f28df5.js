webpackJsonp([11],{JlFv:function(t,e,r){"use strict";(function(t){var a=r("Oj91"),o=r("f4AQ"),n=(r.n(o),r("nER5")),s=r.n(n);e.a={data:()=>({arr:[],value:[],sortValue:[],idShow:!1,visible:"hidden",height:5}),components:{leftMenu:a.a},watch:{$route:"routerChange"},created(){this.$store.state.heatmapJson.heatmap_json_string=JSON.parse(this.$store.state.heatmapJson.heatmap_json_string)},mounted(){this.initchart()},methods:{routerChange(){this.$store.state.heatmapJson.heatmap_json_string=JSON.parse(this.$store.state.heatmapJson.heatmap_json_string),this.initchart()},initchart(){let e=this.$store.state.heatmapJson.stages,r=this.$store.state.heatmapJson.genes,a=this.$store.state.heatmapJson.heatmap_json_string;window.boxplot=new s.a.Chart({chart:{renderTo:"boxplot",type:"boxplot",height:400},credits:{enabled:!1},title:{text:"当前基因表达量"},legend:{enabled:!1},exporting:{enabled:!1},xAxis:{categories:e,title:{text:"Sample Types"}},yAxis:{title:{text:"Read Counts"}},plotOptions:{boxplot:{color:"#000000",fillColor:"#F0F0E0",lineWidth:2,medianColor:"#0C5DA5",medianWidth:3,stemColor:"#A63400",stemDashStyle:"dot",stemWidth:1,whiskerColor:"#3D9200",whiskerLength:"20%",whiskerWidth:3}},series:[{name:"Read Counts",data:[]}]});var o=t("#microarrays_dendrogram"),n=o.offset(),i=n.top+100,d=(n.left,t("#microarrays"));window.dendrogram=new InCHlib({target:"microarrays_dendrogram",metadata:!0,column_metadata:!0,min_row_height:5,max_column_width:50,max_height:5*r.length,heatmap_colors:"RdBkGr",metadata_colors:"RdLrBu",column_dendrogram:!0,max_percentile:90,min_percentile:10,independent_columns:!1});var h=null,l=[],m=[];function g(t,r,a){m=r;var n=dendrogram.header;if(0===m.length)for(g=0;g<n.length;g++)m.push(g);d.hide();for(var s={},h=0;h<e.length;++h)s[e[h]]=[];var l,g,p,_,u,v=i+o.height()-dendrogram.footer_height,f=dendrogram.column_metadata.features[0];for(a=(a=a+400>v?v-400:a-100)<i?i:a,d.css({top:a}),l=0;l<t.length;l++)for(_=dendrogram.objects2leaves[t[l]],p=dendrogram.data.nodes[_].features,boxplot.setTitle({text:dendrogram.data.nodes[_].objects[0]}),g=0;g<m.length;g++)s[f[u=m[g]]].push(p[u]);for(t.length>1&&boxplot.setTitle({text:"多个基因"});boxplot.series.length>0;)boxplot.series[0].remove(!0);for(var b=[],x=0;x<e.length;++x)s[e[x]]&&s[e[x]].length?b.push(c(s[e[x]])):b.push([0,0,0,0,0]);boxplot.addSeries({data:b,name:"Average Signal"},!0),d.show()}function c(t){var e,r,a,o,n;t.sort(function(t,e){return t-e});var s=t.length;e=t[0],r=t[s-1];var i=dendrogram._hack_round(s/2),d=dendrogram._hack_round(s/4);return a=t[i],o=t[i-d],n=t[i+d],t.length<4&&(n=r),[e,o,a,n,r]}dendrogram.events.row_onclick=function(t,e){h=t[0],g(l=t,m,e.pageY),dendrogram.highlight_rows(l),dendrogram.unhighlight_cluster()},dendrogram.events.dendrogram_node_onclick=function(t,e,r){var a;for(g(l=t,m,r.pageY),a=0;a<t.length;a++)if(t[a]==h)return;dendrogram.highlight_rows([])},dendrogram.events.column_dendrogram_node_highlight=function(t,e){g(l,t,0)},dendrogram.events.column_dendrogram_node_unhighlight=function(){g(l,m=[],0)},dendrogram.events.on_zoom=function(t){d.css({top:i})},dendrogram.events.empty_space_onclick=function(){dendrogram.highlight_rows([])},dendrogram.read_data(a),dendrogram.draw(),g(l,m,i),dendrogram.highlight_rows(l)},backHeatmapInput(){this.$router.push({name:"heatmap_input"})}}}}).call(e,r("7t+N"))},W7MR:function(t,e){},Yts5:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("JlFv"),o={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{},[r("leftMenu",{staticStyle:{float:"left",width:"300px","margin-top":"10px"}}),t._v(" "),r("div",{staticClass:"content"},[r("el-breadcrumb",{staticStyle:{margin:"5px 0 50px 0"},attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"report"}}},[t._v("项目"+t._s(t.$store.state.projectName))]),t._v(" "),r("el-breadcrumb-item",[t._v("基因热图")])],1),t._v(" "),r("div",{staticClass:"container"},[r("h2",[t._v("基因差异表达热图 "+t._s(t.$store.state._case)+" vs "+t._s(t.$store.state._control)+" ")]),t._v(" "),r("el-row",[r("el-col",{attrs:{span:16}},[r("div",{attrs:{id:"microarrays_dendrogram"}})]),t._v(" "),r("el-col",{attrs:{span:8}},[r("div",{staticClass:"margin-top-200",attrs:{id:"microarrays"}},[r("div",{attrs:{id:"boxplot"}})])])],1)],1)],1)],1)},staticRenderFns:[]};var n=function(t){r("W7MR")},s=r("VU/8")(a.a,o,!1,n,"data-v-35babb94",null);e.default=s.exports}});
//# sourceMappingURL=11.8760ff8b3182f1f28df5.js.map