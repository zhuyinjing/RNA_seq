webpackJsonp([9],{T11f:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("jsl9"),i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("leftMenu",{staticStyle:{float:"left",width:"300px","margin-top":"10px"}}),e._v(" "),a("div",{staticClass:"content"},[a("el-breadcrumb",{staticStyle:{margin:"5px 0 50px 0"},attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"report"}}},[e._v("项目"+e._s(e.$store.state.projectName))]),e._v(" "),a("el-breadcrumb-item",[e._v("差异表达基因")])],1),e._v(" "),a("h2",[e._v("差异表达基因分析表 "+e._s(e.$store.state._case)+" vs "+e._s(e.$store.state._control)+" ")]),e._v(" "),a("div",{staticClass:"margin-bottom-20"},[a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.heatmapClick()}}},[e._v("Heat Map")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.ppiClick()}}},[e._v("ppi")]),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(t){e.heatmapsvgClick()}}},[e._v("Heat Map Svg")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.enrichmentClick()}}},[e._v("富集分析")])],1),e._v(" "),a("div",[a("label",{staticClass:"label-font",attrs:{for:"maxpval"}},[e._v("pvalue ≤")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.maxpval,expression:"maxpval"}],staticClass:"input-style",attrs:{type:"text",id:"maxpval",placeholder:"0.05"},domProps:{value:e.maxpval},on:{input:function(t){t.target.composing||(e.maxpval=t.target.value)}}}),e._v(" "),a("label",{staticClass:"label-font",attrs:{for:"maxfdr"}},[e._v("FDR ≤")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.maxfdr,expression:"maxfdr"}],staticClass:"input-style",attrs:{type:"text",id:"maxfdr",placeholder:"0.05"},domProps:{value:e.maxfdr},on:{input:function(t){t.target.composing||(e.maxfdr=t.target.value)}}}),e._v(" "),a("label",{staticClass:"label-font",attrs:{for:"minfc"}},[e._v("log2FoldChange(绝对值) ≥")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.minfc,expression:"minfc"}],staticClass:"input-style",attrs:{type:"text",id:"minfc",placeholder:"0"},domProps:{value:e.minfc},on:{input:function(t){t.target.composing||(e.minfc=t.target.value)}}}),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(t){e.filterTable()}}},[e._v("筛选")])],1),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"radio-inline control-label"},[e._v("显示：")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.displayByFC,callback:function(t){e.displayByFC=t},expression:"displayByFC"}},[e._v("在 "+e._s(e.$store.state._case)+" 中表达量上调基因")]),e._v(" "),a("el-radio",{attrs:{label:"-1"},model:{value:e.displayByFC,callback:function(t){e.displayByFC=t},expression:"displayByFC"}},[e._v("在 "+e._s(e.$store.state._case)+" 中表达量下调基因")]),e._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:e.displayByFC,callback:function(t){e.displayByFC=t},expression:"displayByFC"}},[e._v("所有上调和下调基因")])],1),e._v(" "),a("br"),e._v(" "),a("transition",{attrs:{name:"fade"}},[a("div",{},[a("table",{directives:[{name:"show",rawName:"v-show",value:e.tableShow,expression:"tableShow"}],staticClass:"display",attrs:{id:"example",cellspacing:"0",width:"100%"}},[a("thead",[a("tr",[a("th",[a("input",{staticClass:"inputcheckbox",attrs:{type:"checkbox",name:"select_all"},domProps:{checked:e.data.length===e.checked.length},on:{click:e.checkedAll}})]),e._v(" "),a("th",[e._v("target_id")]),e._v(" "),a("th",[e._v("name")]),e._v(" "),a("th",[e._v("description")]),e._v(" "),a("th",[e._v("type")]),e._v(" "),a("th",[e._v("baseMean")]),e._v(" "),a("th",[e._v("log2FoldChange")]),e._v(" "),a("th",[e._v("pvalue")]),e._v(" "),a("th",[e._v("FDR")])])]),e._v(" "),a("tbody",e._l(e.data,function(t,s){return a("tr",[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],staticClass:"inputcheckbox",attrs:{type:"checkbox",name:""},domProps:{value:e.data[s],checked:Array.isArray(e.checked)?e._i(e.checked,e.data[s])>-1:e.checked},on:{change:function(t){var a=e.checked,i=t.target,l=!!i.checked;if(Array.isArray(a)){var c=e.data[s],r=e._i(a,c);i.checked?r<0&&(e.checked=a.concat([c])):r>-1&&(e.checked=a.slice(0,r).concat(a.slice(r+1)))}else e.checked=l}}})]),e._v(" "),a("td",[e._v(e._s(t.target_id))]),e._v(" "),a("td",[e._v(e._s(t.name))]),e._v(" "),a("td",[e._v(e._s(t.description))]),e._v(" "),a("td",[e._v(e._s(t.type))]),e._v(" "),a("td",[e._v(e._s(e.numFormat(t.baseMean)))]),e._v(" "),a("td",[e._v(e._s(t.log2FoldChange))]),e._v(" "),a("td",[e._v(e._s(t.pvalue))]),e._v(" "),a("td",[e._v(e._s(t.padj))])])}))])])])],1)],1)},staticRenderFns:[]};var l=function(e){a("fbX2")},c=a("VU/8")(s.a,i,!1,l,"data-v-5eb51d8c",null);t.default=c.exports},fbX2:function(e,t){},jsl9:function(e,t,a){"use strict";(function(e){var s=a("Oj91");t.a={data:()=>({data:[],checked:[],displayByFC:"0",maxpval:null,maxfdr:null,minfc:null,tableShow:!1,isCheckedAll:!1}),components:{leftMenu:s.a},mounted(){this.getTabelValue()},destroyed(){this.resetFilter()},watch:{$route:"getTabelValueReset"},methods:{numFormat(e){for(var t=(e=e.toString().split("."))[0].split("").reverse(),a=[],s=0,i=t.length;s<i;s++)s%3==0&&0!==s&&a.push(","),a.push(t[s]);return a.reverse(),a=e[1]?a.join("").concat("."+e[1]):a.join("")},checkedAll(){this.data.length!==this.checked.length&&!0===this.isCheckedAll?this.isCheckedAll=!0:this.isCheckedAll=!this.isCheckedAll,this.isCheckedAll?(this.checked=[],this.data.forEach(function(e){this.checked.push(e)},this)):this.checked=[]},resetFilter(){this.maxpval=null,this.maxfdr=null,this.minfc=null,this.displayByFC="0",this.checked=[],this.filterTable()},getTabelValueReset(){let t=document.getElementsByClassName("inputcheckbox");for(let e=0;e<t.length;e++)t[e].checked=!1;(this.data=[],this.checked=[],this.tableShow=!1,this.resetFilter(),e.fn.dataTable.isDataTable("#example"))&&e("#example").DataTable().destroy();this.getTabelValue()},heatmapClick(){if(0===this.checked.length)if(this.data.length<100)this.$store.commit("setgeneList",this.data);else{for(let e=0;e<100;e++)this.checked.push(this.data[e]);this.$store.commit("setgeneList",this.checked)}else this.$store.commit("setgeneList",this.checked);this.$router.push({name:"heatmap_input",query:{_case:sessionStorage._case,_control:sessionStorage._control}})},heatmapsvgClick(){if(0===this.checked.length)if(this.data.length<100)this.$store.commit("setgeneList",this.data);else{for(let e=0;e<100;e++)this.checked.push(this.data[e]);this.$store.commit("setgeneList",this.checked)}else this.$store.commit("setgeneList",this.checked);this.$router.push({name:"heatmapsvg_input",query:{_case:sessionStorage._case,_control:sessionStorage._control}})},ppiClick(){if(0===this.checked.length)if(this.data.length<100)this.$store.commit("setgeneList",this.data);else{for(let e=0;e<50;e++)this.checked.push(this.data[e]);this.$store.commit("setgeneList",this.checked)}else this.$store.commit("setgeneList",this.checked);this.$router.push({name:"ppi_chord_plot_input",query:{_case:sessionStorage._case,_control:sessionStorage._control}})},enrichmentClick(){if(0===this.checked.length)if(this.data.length<1e3)this.$store.commit("setgeneList",this.data);else{for(let e=0;e<1e3;e++)this.checked.push(this.data[e]);this.$store.commit("setgeneList",this.checked)}else this.$store.commit("setgeneList",this.checked);this.$router.push({name:"enrichment_analysis_input"})},filterTable(){let t=this;e.fn.dataTable.ext.search.push(function(e,a,s){var i=parseFloat(t.maxpval),l=parseFloat(t.maxfdr),c=parseFloat(t.minfc),r=parseFloat(a[7]),o=parseFloat(a[6]),n=parseFloat(a[8]);if(!isNaN(i)&&r>i)return!1;if(!isNaN(l)&&n>l)return!1;if(!isNaN(c)&&Math.abs(o)<c)return!1;var d=t.displayByFC-0;return!(!isNaN(d)&&((d=parseFloat(d))<0&&o>0||d>0&&o<0))}),e("#example").DataTable().draw()},initTable(t){let a=this;this.data=t,e(document).ready(function(){e("#example").DataTable({lengthMenu:[[25,50,100,-1],[25,50,100,"All"]],pageLength:25,columnDefs:[{targets:0,orderable:!1,className:"dt-body-center"}],order:[]}),a.tableShow=!0})},getTabelValue(){let e=sessionStorage.getItem("_case"),t=sessionStorage.getItem("_control");this.axios.get("/server/deg?username="+this.$store.state.username+"&p="+this.$store.state.projectId+"&_case="+e+"&_control="+t+"&sig_only=true").then(e=>{if("success"===e.data.message_type){for(let t=0;t<e.data.message.data.length;t++)e.data.message.data[t].baseMean=parseFloat(e.data.message.data[t].baseMean).toFixed(3)-0,e.data.message.data[t].log2FoldChange=parseFloat(e.data.message.data[t].log2FoldChange).toFixed(3)-0,e.data.message.data[t].pvalue=parseFloat(e.data.message.data[t].pvalue).toFixed(3)-0,e.data.message.data[t].padj=parseFloat(e.data.message.data[t].padj).toFixed(3)-0;this.initTable(e.data.message.data)}else this.$message.error(e.data.message)})},backProjectList(){this.$router.push({name:"report"})}}}}).call(t,a("7t+N"))}});
//# sourceMappingURL=9.c4ba528603147a8bb058.js.map